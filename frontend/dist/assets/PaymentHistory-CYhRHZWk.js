import{u as m,b as h,c as p,r as n,j as e,L as u}from"./index-AlR7mNU9.js";import{b as g}from"./paymentActions-D-crIzp8.js";import{F as f,a as j,c as b}from"./index-Bl7v8ccn.js";import{a as N}from"./authActions-3y-Kchyy.js";const k=()=>{const i=m(),t=h(),{payments:a,loading:c,error:r}=p(s=>s.payments);n.useEffect(()=>{t(g())},[t]);const[o,x]=n.useState(!1),d=()=>{t(N()),i("/login")};return c?e.jsx("p",{children:"Loading payment history..."}):r?e.jsxs("p",{children:["Error: ",r]}):e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"flex items-center justify-between bg-white px-8 py-4 shadow-md border-b border-purple-200",children:[e.jsx(u,{to:"/auth/dashboard",className:"flex items-center gap-2",children:e.jsx("h1",{className:"text-4xl font-extrabold mb-4 text-purple-600 tracking-tight text-center",children:"Ghar Mitra 🏡🤝"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",onClick:()=>x(s=>!s),children:[e.jsx(f,{className:"text-3xl text-purple-600"}),e.jsx(j,{className:"text-gray-500 ml-1"})]}),o&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-xl shadow-lg z-50",children:e.jsxs("button",{className:"w-full flex items-center px-4 py-2 hover:bg-purple-100 text-gray-800",onClick:d,children:[e.jsx(b,{className:"mr-2"})," Logout"]})})]})]}),e.jsx("div",{className:"py-12 px-4 sm:px-8 bg-[#f7f5ff] min-h-screen",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-center mb-8 text-purple-600 tracking-tight",children:"Payment History"}),a.length>0?e.jsx("div",{className:"grid gap-6",children:a.map(s=>{var l;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-purple-200 hover:shadow-2xl transition-all",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-600 text-center mb-2",children:(l=s.id)==null?void 0:l.username}),e.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-gray-700",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Amount:"})," ",s.amount," Rs"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Date:"})," ",new Date(s.date).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Type:"})," ",s.type]})]}),e.jsx("div",{className:"mt-2 text-center text-gray-700 text-sm",children:s.description})]},s._id)})}):e.jsx("p",{className:"text-center text-gray-500",children:"No payments found"})]})})]})};export{k as default};
