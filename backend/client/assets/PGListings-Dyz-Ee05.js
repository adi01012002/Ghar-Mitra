import{i as l,r as a,u as m,j as e,k as h}from"./index-BusJa6OU.js";import{I as g,a as u}from"./IconUsers-DYjt83nl.js";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var f=l("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var v=l("outline","bed","IconBed",[["path",{d:"M7 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M22 17v-3h-20",key:"svg-1"}],["path",{d:"M2 8v9",key:"svg-2"}],["path",{d:"M12 14h10v-2a3 3 0 0 0 -3 -3h-7v5z",key:"svg-3"}]]);const j="https://ghar-mitra-backend.onrender.com",y=()=>{const[o,n]=a.useState([]),[i,c]=a.useState(!0),[r,d]=a.useState(null),p=m();return a.useEffect(()=>{(async()=>{try{const t=await fetch(`${j}/pg/all-pg-data`);if(console.log(t),!t.ok)throw new Error("Failed to fetch PG data");const x=await t.json();n(x)}catch(t){d(t.message)}finally{c(!1)}})()},[]),i?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center",children:[e.jsx(h,{}),e.jsx("p",{className:"mt-4 text-lg text-purple-700 font-semibold",children:"Loading PG listings..."})]}):r?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center",children:[e.jsxs("p",{className:"text-red-600 font-bold text-lg",children:["Error: ",r]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold shadow-md transition-all",children:"Retry"})]}):e.jsx("section",{className:"py-20 px-4 sm:px-10 lg:px-24 bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-4xl font-extrabold text-center mb-14 text-purple-700 tracking-tight",children:"Available PG Accommodations"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:o.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-purple-200 hover:shadow-2xl hover:border-purple-400 transition-all duration-200 group cursor-pointer",onClick:()=>p(`/pg-details/${s._id}`),children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-purple-100 group-hover:scale-110 transition-transform",children:e.jsx(g,{className:"text-purple-600",size:28})}),e.jsx("h3",{className:"text-2xl font-bold text-purple-600 group-hover:text-purple-700 transition-colors",children:s.name})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"text-purple-400",size:20}),e.jsxs("span",{className:"text-gray-700 font-semibold",children:[s.totalStudents," residents"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"text-purple-400",size:20}),e.jsxs("span",{className:"text-gray-700 font-semibold",children:[s.availableBeds," beds available"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsx("span",{className:"text-lg font-bold text-purple-600 group-hover:text-purple-800 transition-colors",children:"View Details"}),e.jsx(f,{className:"text-purple-600 group-hover:text-purple-800 transition-colors",size:22})]})]},s._id))})]})})};export{y as default};
