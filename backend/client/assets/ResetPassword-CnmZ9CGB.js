import{d as w,u as y,r as t,j as e,a as j}from"./index-BuJDhg32.js";const N="https://ghar-mitra-backend.onrender.com",P=()=>{const{token:p}=w(),x=y(),[r,f]=t.useState(""),[n,b]=t.useState(""),[l,a]=t.useState(""),[d,i]=t.useState(""),[c,u]=t.useState(!1),h=async s=>{var m,g;if(s.preventDefault(),a(""),i(""),r!==n){a("Passwords do not match");return}u(!0);try{const o=await j.post(`${N}/auth/reset-password/${p}`,{password:r});i(o.data.message),setTimeout(()=>x("/login"),2e3)}catch(o){a(((g=(m=o.response)==null?void 0:m.data)==null?void 0:g.message)||"Something went wrong")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f7f5ff]",children:e.jsxs("div",{className:"w-full max-w-md bg-white border border-gray-400 rounded-2xl shadow-md p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 text-center",children:"Reset Password"}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-semibold text-gray-900 mb-1",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 bg-gray-50 placeholder-gray-400 transition-all",placeholder:"Enter new password",value:r,onChange:s=>f(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base font-semibold text-gray-900 mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 bg-gray-50 placeholder-gray-400 transition-all",placeholder:"Confirm new password",value:n,onChange:s=>b(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 rounded-xl text-white font-bold text-lg shadow-md transition-all duration-200 focus:outline-none bg-purple-600 hover:bg-purple-700 focus:ring-2 focus:ring-purple-500",children:c?"Resetting...":"Reset Password"})]}),d&&e.jsx("p",{className:"text-green-600 text-center mt-4",children:d}),l&&e.jsx("p",{className:"text-red-600 text-center mt-4",children:l})]})})};export{P as default};
