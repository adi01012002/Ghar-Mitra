import{h as a,l as s}from"./index-BusJa6OU.js";const l=t=>async e=>{e({type:"REGISTER_REQUEST"});try{const o=await a(t);console.log("Register Success:",o),e({type:"REGISTER_SUCCESS",payload:o}),console.log(o.token),localStorage.setItem("token",o.token)}catch(o){e({type:"REGISTER_FAILURE",payload:o.message})}},n=t=>async e=>{console.log("Dispatching login request"),e({type:"LOGIN_REQUEST"});try{const o=await s(t);console.log("Login response:",o),e({type:"LOGIN_SUCCESS",payload:o}),localStorage.setItem("token",o.token),console.log("Token saved to localStorage:",o.token)}catch(o){console.error("Login error:",o.message),e({type:"LOGIN_FAILURE",payload:o.message})}},g=()=>t=>{localStorage.removeItem("token"),t({type:"LOGOUT"})};export{g as a,n as l,l as r};
